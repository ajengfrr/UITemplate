@model PreProc.Models.PreProcGeneralInfo2
@* @model Tuple<Model1, Model2> *@

<head>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
<style>
    .nav-pills .nav-link.active, .nav-pills .show > .nav-link {
        background: #dc3545;
        border-bottom-color: #dc3545;
        border-bottom-style: solid;
        border-bottom-width: 8px;
    }

    .nav-pills .nav-link {
        background: black;
        color: white;
    }

    .table thead th {
        text-align: center;
        top: 0;
        position: sticky;
        background: darkgreen;
        color: white;
    }
    .checkbox{
        font-size:large;
    }
</style>
</head>

@{
    ViewData["Title"] = "View Item";
    // Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    string date = DateTime.Now.ToString("dd-MMM-yy");

    string FileNameRFP = null;
    string FileNameBOQ = null;
    string FileNameQuot = null;
    string FileNamePropo = null;
    string FileNameGP = null;
    string FileNameOthers = null;
    string FileNameSPK = null;
    string FileNameNego = null;

    if (ViewBag.attachRFP.Count > 0)
    {
        FileNameRFP = ViewBag.attachRFP[0].FileName;

    }
    if (ViewBag.attachBOQ.Count > 0)
    {
        FileNameBOQ = ViewBag.attachBOQ[0].FileName;

    }
    if (ViewBag.attachQuot.Count > 0)
    {
        FileNameQuot = ViewBag.attachQuot[0].FileName;

    }
    if (ViewBag.attachPropo.Count > 0)
    {
        FileNamePropo = ViewBag.attachPropo[0].FileName;

    }
    if (ViewBag.attachGP.Count > 0)
    {
        FileNameGP = ViewBag.attachGP[0].FileName;

    }
    if (ViewBag.attachOthers.Count > 0)
    {
        FileNameOthers = ViewBag.attachOthers[0].FileName;

    }
     if (ViewBag.attachSPK.Count > 0)
    {
        FileNameSPK = ViewBag.attachSPK[0].FileName;

    }
     if (ViewBag.attachNego.Count > 0)
    {
        FileNameNego = ViewBag.attachNego[0].FileName;

    }
}
<input type="hidden" value="@ViewBag.useraccessSuperAdmin" id="currentEmailSuperAdmin"/>
<input type="hidden" value="@ViewBag.useraccesspm" id="currentEmailPM"/>
<input type="hidden" value="@ViewBag.useraccesspc" id="currentEmailPC"/>
<input type="hidden" value="@ViewBag.useraccesspmo" id="currentEmailPMO"/>
<input type="hidden" value="@ViewBag.useraccesspmohead" id="currentEmailPMOHead"/>

<div class="container">

    <div class="card" style="min-width:fit-content">
        <div class="card-body">
                <div class="row mt-lg-5">
                    <div class="col-8">
                        <a asp-area="" data-toggle="tooltip" asp-controller="PreProcs" asp-action="EditDetail" asp-route-id="@Model.Id" class="btn btn-outline-secondary">
                            Edit Item
                        </a>
                        <a class="btn btn-outline-danger" asp-area="" asp-controller="PreProcs" asp-action="Index">
                            Exit
                        </a>
                    </div>
                    <div class="col-4 text-end">
                        <input type="hidden" name="preprocid" class="form-control" id="preprocid" aria-describedby="inputGroupFileAddon04" value="@Model.Id">
                        <p>
                            <b class="text-red">*</b> : Mandatory
                            <br />
                            <b class="text-red">**</b> : Either one is mandatory
                        </p>

                    </div>
                </div>

                <!-- Pills Tabs -->
                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-general-tab" data-bs-toggle="pill" data-bs-target="#pills-general" type="button" role="tab" aria-controls="pills-general" aria-selected="false" tabindex="-1">General Info</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-risk-tab" data-bs-toggle="pill" data-bs-target="#pills-risk" type="button" role="tab" aria-controls="pills-risk" aria-selected="false" tabindex="-1">Risk Factor</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-details-tab" data-bs-toggle="pill" data-bs-target="#pills-details" type="button" role="tab" aria-controls="pills-details" aria-selected="false" tabindex="-1">Details</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-attachment-tab" data-bs-toggle="pill" data-bs-target="#pills-attachment" type="button" role="tab" aria-controls="pills-attachment" aria-selected="false" tabindex="-1">Attachments</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-approval-tab" data-bs-toggle="pill" data-bs-target="#pills-approval" type="button" role="tab" aria-controls="pills-approval" aria-selected="false" tabindex="-1">Approval/Clarification</button>
                    </li>
                    @if (ViewBag.pmocheck == null)
                    {
                        <li class="nav-item" id="pmo-tab" role="presentation" style="display:none">
                            <button class="nav-link" id="pills-pmo-tab" data-bs-toggle="pill" data-bs-target="#pills-pmo" type="button" role="tab" aria-controls="pills-pmo" aria-selected="false" tabindex="-1" >PMO Checklist</button>
                        </li>
                    }
                    else{
                        <li class="nav-item" id="pmo-tab" role="presentation">
                            <button class="nav-link" id="pills-pmo-tab" data-bs-toggle="pill" data-bs-target="#pills-pmo" type="button" role="tab" aria-controls="pills-pmo" aria-selected="false" tabindex="-1" >PMO Checklist</button>
                        </li>
                    }
                    
                    <li class="nav-item" role="presentation">
                        <button class="nav-link " id="pills-report-tab" data-bs-toggle="pill" data-bs-target="#pills-report" type="button" role="tab" aria-controls="pills-report" aria-selected="true">Reports</button>
                    </li>
                </ul>
                <div class="tab-content pt-2" id="myTabContent">
                    <div class="tab-pane fade active show" id="pills-general" role="tabpanel" aria-labelledby="general-tab">
                        <hr />
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Stage</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">@Model.Stage</label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">Opp ID/Presales ID <b class="text-red">*</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3 visiblePID" style="display:none">
                                    <div class="row">
                                        <label class="col-form-label control-label">
                                            : PID
                                        </label>
                                    </div>
                                </div>
                                <div class="col-3 visiblePreID" style="display:block">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.PresalesId
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <label class="col-form-label control-label">RFP ID	</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.RfpId    
                                        </label>
                                    </div>
                                </div>
                                @if (Model.Stage == "Delivery")
                                {
                                    <div class="col-2 visiblePID">
                                        <label class="col-form-label control-label">PID <b class="text-red">*</b></label>
                                        <span class="text-danger"></span>
                                    </div>
                                    <div class="col-3 visiblePID">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            <label class="col-form-label control-label " style="width:250px">
                                                @Model.Pid
                                            </label>
                                        </div>
                                    </div>
                                }
                                
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2" id="divProposalNo">
                                    <label class="col-form-label control-label">Proposal No.	</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                           @Model.ProposalId
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">Owner Estimate (IDR) <b class="text-red">**</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px;text-align:end">
                                            @if(@Model.ProjectValueIdr.HasValue){
                                                @Model.ProjectValueIdr.Value.ToString("#,###")
                                            }
                                            else{
                                                @Model.ProjectValueIdr
                                            }
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2" id="divQuotationNo">
                                    <label class="col-form-label control-label">Quotation No.</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.QuotationId
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        Owner Estimate (USD)
                                        <b class="text-red">**</b> (Ex: 10000.00)
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px;text-align:end">
                                            @if(@Model.ProjectValueUsd.HasValue){
                                                @Model.ProjectValueUsd.Value.ToString("#,###")
                                            }
                                            else{
                                                @Model.ProjectValueUsd
                                            }
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Customer <b class="text-red">*</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @ViewBag.customers.AccountName (@ViewBag.customers.InitialCode)
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2" id="divEstGP">
                                    <label class="col-form-label control-label" id="labelEstGP">
                                        Est. % GP <b class="text-red">*</b> (Ex: 8.20)
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px;text-align:end">
                                            @Model.EstGpgeneral
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Account Manager <b class="text-red">*</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.Am
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        Project Type
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label "style="width:250px">
                                            @Model.ProjectType
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Technical Lead/Presales <b class="text-red">*</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label " style="width:250px">
                                            @Model.PropMgr
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        Description
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <textarea class="form-control" style="width:290px;height:100px" disabled>@Model.Description</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Tender Admin</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label " style="width:250px">
                                            @Model.TenderAdm                                        
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2" id="divProposalDate">
                                    <label class="col-form-label control-label">Proposal Submission Date <b class="text-red">*</b></label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @if(@Model.ProposalSubmissionDate.HasValue){
                                                @Model.ProposalSubmissionDate.Value.ToString("dd-MMM-yy")
                                            }
                                            else{
                                                @Model.ProposalSubmissionDate
                                            }
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2" id="divPICProc">
                                    <label class="col-form-label control-label" id="labelPICProc">
                                        PIC Procurement
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <textarea class="form-control" id="resultSelectedPIC" style="width:250px;height:100px" disabled>@Model.PicProc</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Subcon Quotation Deadline	</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @if(@Model.QuotationDeadline.HasValue){
                                                @Model.QuotationDeadline.Value.ToString("dd-MMM-yy")
                                            }
                                            else{
                                                @Model.QuotationDeadline
                                            }
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Hedging</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label">
                                            :  
                                            @if (Model.Hedging == true)
                                            {
                                                <input name="Hedging" value="true" type="checkbox" class="form-check-input checkbox inputAll"
                                                      style="border: 1px solid;" disabled checked>
                                            }
                                            else{
                                                <input name="Hedging" value="true" type="checkbox" class="form-check-input checkbox inputAll"
                                                      style="border: 1px solid;" disabled>
                                            }
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2" id="divBOD">
                                    <label class="col-form-label control-label" id="labelBOD">
                                        BOD
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <textarea class="form-control" id="resultSelectedBOD" style="width:250px;height:100px" disabled>@ViewBag.bodname</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Status Presales	</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            : 
                                        </label>
                                        <label class="col-form-label control-label" style="width: 250px;">
                                            @Model.Type
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        PM
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.Pm
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Creation Date	</label>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            : 
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.CreationDate.Value.ToString("dd-MMM-yy")
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        PC
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.Pc
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <label class="col-form-label control-label">Warranty Applied</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label">
                                            : 
                                            @if (Model.NeedWarranty == true)
                                            {
                                                <input name="NeedWarranty" value="true" type="checkbox" class="form-check-input checkbox inputAll"
                                                     style="border: 1px solid;" disabled checked>
                                            }
                                            else{
                                                <input name="NeedWarranty" value="true" type="checkbox" class="form-check-input checkbox inputAll"
                                                     style="border: 1px solid;" disabled>
                                            }
                                        </label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        Project Support <b class="text-red" id="mandaSelectPS" style="visibility:hidden">*</b>
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label" style="width:250px">
                                            @Model.ProjectSupport
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="pills-risk" role="tabpanel" aria-labelledby="risk-tab">
                            <hr />
                            <b>External Factors</b>
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                            @* <input type="hidden" asp-for="DocumentId" value="@Model.DocumentId" />
                            <input type="hidden" asp-for="Id" value="@Model.Id" /> *@
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckNewProduct">
                                            @{var count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "New Product / 1st Implementation")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewProduct" id="checkNewProduct" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewProduct" id="checkNewProduct" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">New Product / 1st Implementation</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckTightTimeline">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Tight Timeline")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkTightTimeline" id="checkTightTimeline" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkTightTimeline" id="checkTightTimeline" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Tight Timeline
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "New Customer")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewCustomer" id="checkNewCustomer" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewCustomer" id="checkNewCustomer" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">New Customer	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Harsh Penalty")
                                                {
                                                   <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkHarshPenalty" id="checkHarshPenalty" checked>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkHarshPenalty" id="checkHarshPenalty" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Harsh Penalty
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckNewSubcon">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "New Subcon / Vendor")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewSubcon" id="checkNewSubcon" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNewSubcon" id="checkNewSubcon" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">New Subcon / Vendor	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckNonITSOW">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Non IT Scope of Work")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNonITSOW" id="checkNonITSOW" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkNonITSOW" id="checkNonITSOW" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Non IT Scope of Work
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Multi Site / Roll Out")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiSite" id="checkMultiSite" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiSite" id="checkMultiSite" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">Multi Site / Roll Out	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Customer Behavior (Highly Political/Baby Sitting)")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkCustomerBehavior" id="checkCustomerBehavior" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkCustomerBehavior" id="checkCustomerBehavior" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Customer Behavior (Highly Political/Baby Sitting)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Stringent Requirement")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                    style="border: 1px solid;" name="checkStringentReq" id="checkStringentReq" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;" name="checkStringentReq" id="checkStringentReq" disabled>
                                            }
                                            <label class="custom-control-label" for="customCheck1">Stringent Requirement	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckAppImplementation">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Application Implementation Project")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkAppImplementation" id="checkAppImplementation" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkAppImplementation" id="checkAppImplementation" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Application Implementation Project
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckMultiSubcon">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Multi Subcon / Vendor")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiSubcon" id="checkMultiSubcon" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiSubcon" id="checkMultiSubcon" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">Multi Subcon / Vendor	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Unclear Scope")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkUnclearScope" id="checkUnclearScope" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkUnclearScope" id="checkUnclearScope" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Unclear Scope
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Multi Platform")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiPlatform" id="checkMultiPlatform" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkMultiPlatform" id="checkMultiPlatform" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">Multi Platform	</label>
                                        </div>
                                    </div>
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox" id="divCheckPayment100">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Payment 100% After Project Completion")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkPayment100" id="checkPayment100" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkPayment100" id="checkPayment100" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Payment 100% After Project Completion
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-lg-4">
                                <b>Internal Factors</b>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Lack of Resource Capacity")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkResourceCapacity" id="checkResourceCapacity" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkResourceCapacity" id="checkResourceCapacity" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Lack of Resource Capacity
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "Lack of Resource Capability")
                                                {
                                                   <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkResourceCapability" id="checkResourceCapability" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkResourceCapability" id="checkResourceCapability" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                Lack of Resource Capability
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "TOP does not Comply to MLPT Policy")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkTOP" id="checkTOP" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkTOP" id="checkTOP" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                TOP does not Comply to MLPT Policy
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-5">
                                        <div class="custom-control custom-checkbox">
                                            @{count = 0;}
                                            @foreach (var item in ViewBag.riskdata)
                                            {
                                                @if (item.RiskName == "GP Projection Less than Target")
                                                {
                                                    <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkGPProjection" id="checkGPProjection" checked disabled>
                                                    count++;
                                                    break;
                                                }
                                            }
                                            @if (count == 0)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                   style="border: 1px solid;" name="checkGPProjection" id="checkGPProjection" disabled>
                                            }
                                            
                                            <label class="custom-control-label" for="customCheck1">
                                                GP Projection Less than Target
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-lg-4">
                                <div class="col-2">
                                    <label class="col-form-label control-label">
                                        <b style="color:#970000">
                                            Overall Risk
                                        </b>
                                    </label>
                                </div>
                                <div class="col-4">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        <label class="col-form-label control-label col-5">
                                            @Model.OverallRisk
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-lg-4">
                                <b>
                                    Risk Description:
                                </b>
                            </div>
                            <div class="row mt-lg-2">
                                <div class="col-7">
                                    @if (ViewBag.riskassess != null)
                                    {
                                        <textarea class="form-control" style="width:650px;height:100px" id="txtRiskDesc" disabled>@ViewBag.riskassess.Description</textarea>
                                    }
                                </div>
                            </div>
                            <div class="row mt-lg-4">
                                <b>
                                    Detail Assessment Information:
                                </b>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Source of Budget
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                                @if (ViewBag.sourcebudget != null)
                                                {
                                                    <label class="col-form-label control-label col">
                                                            @ViewBag.sourcebudget.Type
                                                    </label>
                                                }
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Est. Project Start
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                @if (ViewBag.riskassess.EstProjectStart != null)
                                                {
                                                    <label class="col-form-label control-label col-5">@ViewBag.riskassess.EstProjectStart.ToString("yyyy-MM-dd")</label>
                                                }
                                                
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Competition
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.competition != null)
                                                {
                                                    <label class="col-form-label control-label col-5">
                                            @ViewBag.competition.Type
                                                    </label>
                                                }
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Est. Project End
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                @if (ViewBag.riskassess.EstProjectCompletion != null)
                                                {
                                                    <label class="col-form-label control-label col-5">@ViewBag.riskassess.EstProjectCompletion.ToString("yyyy-MM-dd")</label>
                                                }
                                            }
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Contigency Cost
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                @if (ViewBag.riskassess.ContigencyCost != null )
                                                {
                                                    <label class="col-form-label control-label col-5">
                                                        Yes
                                                    </label>
                                                }
                                                else 
                                                {
                                                    <label class="col-form-label control-label col-5">
                                                        No
                                                    </label>
                                                }
                                            }
                                        </div>
                                        @if (ViewBag.riskassess != null)
                                        {
                                            @if (ViewBag.riskassess.ContigencyCost > 0)
                                            {
                                                <div class="row mt-lg-2" id="visibleContingency">
                                                    <div class="col-1">
                                                    </div>
                                                    <label class="col-form-label control-label col-5">@ViewBag.riskassess.ContigencyCost %</label>
                                                </div>
                                            }
                                        }
                                    </div>
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Procurement Type
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                <label class="col-form-label control-label col-5">
                                                    @ViewBag.proctype.Type
                                                </label>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Competitor
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtCompetitor" disabled>@ViewBag.riskassess.Competitor</textarea>
                                                
                                            }
                                            else{
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtCompetitor" disabled></textarea>

                                            }
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Procurement Info
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                <label class="col-form-label control-label col-5">
                                                    @ViewBag.projectsource.Type
                                                </label>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Revenue Sharing
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-1">
                                    </div>
                                    <div class="col-1">
                                        <label class="col-form-label control-label col-11">
                                            MLPT (Ex: 100)
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.projectrevmlpt != null)
                                            {
                                                <label class="col-form-label control-label col-5">@ViewBag.projectrevmlpt.ProjectRevenue %</label>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-1">
                                    </div>
                                    <div class="col-1">
                                        <label class="col-form-label control-label col-11">
                                            # Subcon
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.countsubcon != 0)
                                            {
                                                <label class="col-form-label control-label col-5">@ViewBag.countsubcon</label>
                                            }
                                        </div>
                                        
                                    </div>
                                </div>
                                <div class="row mt-lg-4" id="visibleTableRevSharingSubCon">
                                    <div class="col-2">
                                                
                                    </div>
                                    <div class="col-9">
                                        <div class="table-wrapper table-responsive-lg">
                                            <table class="table table-striped" style="font-size:small;vertical-align:middle" id="tableRevSharing">
                                                <thead style="background:darkGreen;color:white">
                                                    <tr>
                                                        <th scope="col">Subcon Name</th>
                                                        <th scope="col">%</th>
                                                        <th scope="col">High Level Scope</th>
                                                        <th scope="col">Preload</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="bodyRevSharingSubCon">
                                                    
                                                    @foreach (var rev in ViewBag.projectrev)
                                                    {
                                                        <tr class="trRowRevSharing">
                                                            <td scope="col" class="tdSubconName">
                                                                @foreach (var item in @ViewBag.principles)
                                                                {
                                                                    if (item.Vendor == rev.PrincipalName)
                                                                    {
                                                                        <label class="col-form-label control-label" style='width: 250px'>@item.Vendor</label>
                                                                       break;
                                                                    }
                                                                }
                                                                <div class="mt-lg-2 divTxtOtherSubconName" hidden>
                                                                    <label class="col-form-label control-label">@rev.PrincipalName</label>
                                                                </div>

                                                            </td>
                                                            <td scope="col" class="tdPercent text-center">
                                                                <label class="col-form-label control-label" style="width:80px">@rev.ProjectRevenue</label>
                                                                @* <input class="form-control txtPercent" style="width:80px" type="text" value="@rev.ProjectRevenue" disabled/> *@
                                                            </td>
                                                            <td scope="col" class="tdHighLvlScope">
                                                                <label class="col-form-label control-label" style="min-width:400px">@rev.PrincipalScope</label>
                                                                @* <input class="form-control txtHighLvlScope" style="min-width:400px" type="text" value="@rev.PrincipalScope" disabled/> *@
                                                            </td>
                                                            <td scope="col" class="tdPreload text-center">
                                                                @foreach (var item in @ViewBag.principalpreload)
                                                                {
                                                                    if (item.Id == rev.Preload)
                                                                    {
                                                                        <label class="col-form-label control-label" style='width: 80px'>@item.Type</label>
                                                                        break;
                                                                    }
                                                                        
                                                                }
                                                            </td>
                                                        </tr>
                                                    }
                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                 </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Procurement Condition
                                        </label>
                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtProcCondition" disabled>@ViewBag.riskassess.ProjectCondition</textarea>
                                                
                                            }
                                            else{
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtProcCondition" disabled></textarea>

                                            }
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Predefined Condition Requested by Principal/Broker
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            @if (ViewBag.riskassess != null)
                                            {
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtPredefinedCondition" disabled >@ViewBag.riskassess.PredefinedConditionReqByPrincipal</textarea>
                                                
                                            }
                                            else{
                                                <textarea class="form-control" style="width:380px;height:100px" id="txtPredefinedCondition" disabled></textarea>

                                            }
                                            
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row mt-lg-4">
                                <b>
                                    Risk Assessment Committee:
                                </b>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Assigned To
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            <textarea class="form-control" id="resultSelectedCommittee" style="width:380px;height:100px" disabled>@ViewBag.riskassignto</textarea>
                                         
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-2">
                                    <div class="col-2">
                                        <label class="col-form-label control-label col-11">
                                            Committee
                                        </label>

                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                            <input class="form-control" style="width:250px" type="text" value=""  hidden/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <div class="tab-pane fade" id="pills-details" role="tabpanel" aria-labelledby="details-tab">
                        <hr />
                        <div class="row mt-lg-1">
                            <div style="width:1000px">
                                <select id="selectViewDetails" onchange="changeViewDetails()" aria-label="Default select example" class="btn btn-outline-secondary" style="width:160px">
                                    <option selected="Complete">Complete View</option>
                                    <option value="Simple">Simple View</option>
                                    <option value="PO">PO View</option>
                                </select>
                                @if(Model.Stage == "Delivery"){
                                    @if (ViewBag.useraccesspm != null || ViewBag.useraccesspmohead != null || ViewBag.useraccesspc != null || ViewBag.useraccessSuperAdmin != null)
                                    {
                                        <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="ShowRDL" asp-route-type="" asp-route-id="@Model.ListItemId" target="_blank">Print PO Data</a>
                                    }
                                    @if (ViewBag.useraccesspmo != null || ViewBag.useraccesspmohead != null || ViewBag.useraccessSuperAdmin != null)
                                    {
                                        <a class="btn btn-outline-secondary" id="btn-browse-po" data-bs-toggle="modal" data-bs-target="#BrowsePO">
                                            Browse PO
                                        </a>
                                    }
                                }
                            </div>
                            <div style="width:500px">
                                <div class="row">
                                    <label class="col-form-label control-label col-3">
                                       Filter By PID :
                                    </label>
                                    <input type="search" id="searchpid" value="@Model.Pid" class="form-control" style="width:200px">
                                </div>
                            </div>
                        </div>
                        @if(Model.Stage != "Delivery"){
                        <div class="table-wrapper table-responsive-lg mt-lg-4" style="min-width:2000px;max-height:600px">                          
                            <table id="tblData" class="table table-bordered table-striped border-white" style="font-size:small;vertical-align:middle">
                                <thead style="background:darkGreen;color:white">
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">No</th>
                                        <th scope="col"></th>
                                        <th scope="col" class="visiblePrincipal completeView">Principal/Manufacturer</th>
                                        <th scope="col" class="visibleItemDesc completeView">Item Description</th>
                                        <th scope="col" class="visibleInsurance completeView">Insurance</th>
                                        <th scope="col" class="visibleWarranty completeView">Warranty (Month)</th>
                                        <th scope="col" class="visibleSpecRKS completeView">Spec RKS</th>
                                        <th scope="col" class="visibleSurDuk completeView">SurDuk</th>
                                        <th scope="col" class="visibleQty completeView">Qty</th>
                                        <th scope="col" class="visibleCurrency completeView">Currency</th>
                                        <th scope="col" class="visibleUnitCOGS completeView">Unit COGS</th>
                                        <th scope="col" class="visibleUnitRevenue completeView">Unit Revenue	</th>
                                        <th scope="col" class="visibleTotalCOGS completeView">Total COGS</th>
                                        <th scope="col" class="visibleTotalRevenue completeView">Total Revenue</th>
                                        <th scope="col" class="visiblePM completeView">Product Manager</th>
                                        <th scope="col" class="visibleVendor completeView">Vendor</th>
                                        <th scope="col" class="visibleVendorQuot completeView">Vendor Quotation/SOW</th>
                                        <th scope="col" class="visibleRisk completeView">Risk</th>
                                        <th scope="col" class="visiblePresalesReview completeView">Presales Review	</th>
                                        <th scope="col" class="visibleAMReview completeView">
                                            AM Manager
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="tabelnewitem">
                                    @if(ViewBag.itemdetail != null)
                                    {
                                        @foreach (var itemdet in ViewBag.itemdetail)
                                        {
                                            <tr>
                                                <td class='tdControl col-1' style='padding-right: 0px; padding-left: 0px; text-align: center; vertical-align: middle;min-width:100px'>
                                                </td>
                                                <td class="tdNo col-1 text-center">
                                                    @itemdet.Id
                                                </td>
                                                <td class="tdCheckItem text-center">
                                                </td>
                                                <td class="tdPrincipal visiblePrincipal completeView">
                                                    @itemdet.Principle
                                                </td>
                                                <td class="tdItemDesc col-1 visibleItemDesc completeView">
                                                    @itemdet.ItemDesc
                                                </td>
                                                @if (@itemdet.Insurance == true)
                                                {
                                                    <td class="tdInsurance text-center visibleInsurance completeView">
                                                        Y
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td class="tdInsurance text-center visibleInsurance completeView">
                                                        N
                                                    </td>
                                                }
                                                <td class="tdWarranty visibleWarranty completeView">
                                                    @itemdet.Warranty
                                                </td>
                                                <td class="tdSpecRKS text-center visibleSpecRKS completeView">
                                                    @if(ViewBag.fileattach != null)
                                                    {
                                                        @foreach (var file in ViewBag.fileattach)
                                                        {
                                                            if(file.DocumentTypeId == 11 && file.Bastid == itemdet.DetailId)
                                                            {
                                                                <a  class='btn-down-spec' style='font-size: 12px; padding: 7px!important;margin-right: 5px;margin-left: 5px;' href='/Preprocs/GetFileAttachment?target=@file.StrictedFileName;@file.FileName'>@file.FileName</a><br />
                                                            }
                                                        }
                                                    }
                                                </td>
                                                @if (@itemdet.SurDukCheck == true)
                                                {
                                                    <td class="tdSurDuk text-center visibleSurDuk completeView">
                                                        @if(ViewBag.fileattach != null)
                                                    {
                                                        @foreach (var file in ViewBag.fileattach)
                                                        {
                                                            if(file.DocumentTypeId == 12 && file.Bastid == itemdet.DetailId)
                                                            {
                                                                    <a class='btn-down-spec' style='font-size: 12px; padding: 7px!important;margin-right: 5px;margin-left: 5px;' href='/Preprocs/GetFileAttachment?target=@file.StrictedFileName;@file.FileName'>@file.FileName</a>

                                                                    <br />
                                                            }
                                                        }
                                                    }
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td class="tdSurDuk text-center visibleSurDuk completeView">
                                                        N
                                                    </td>
                                                }
                                                <td class="tdQty col-1 visibleQty completeView">
                                                    @itemdet.Qty
                                                </td>
                                                <td scope="col" class="tdCurrency visibleCurrency completeView">@itemdet.Currency</td>
                                                <td scope="col" class="tdUnitCOGS visibleUnitCOGS completeView">@itemdet.UnitCogs</td>
                                                <td scope="col" class="tdUnitRevenue visibleUnitRevenue completeView">@itemdet.UnitPrice</td>
                                                <td scope="col" class="tdTotalCOGS visibleTotalCOGS completeView">@itemdet.TotalCogs</td>
                                                <td scope="col" class="tdTotalRevenue visibleTotalRevenue completeView">@itemdet.TotalPrice</td>
                                                <td scope="col" class="tdPM visiblePM completeView">@itemdet.ProductManager</td>
                                                <td scope="col" class="tdVendor visibleVendor completeView"></td>
                                                <td scope="col" class="tdVendorQuot visibleVendorQuot completeView text-center"></td>
                                                <td scope="col" class="tdRisk visibleRisk completeView">@itemdet.Risk</td>
                                                <td scope="col" class="tdPresalesReview visiblePresalesReview completeView">@itemdet.PresalesReview</td>
                                                <td scope="col" class="tdAMReview visibleAMReview completeView">@itemdet.AmmanagerApproval</td>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td><label class="col-form-label control-label text-red" style="min-width:120px"> Remarks on Item:</label></td>
                                                    <td class="tdRemark"><label class="col-form-label control-label text-red labelremark">@itemdet.RemarkOnItem</label></td>
                                            </tr>
                                        }
                                        
                                    }
                                </tbody>
                            </table>
                        </div>
                        }
                        @* Item Detail Delivery *@
                        @if(Model.Stage == "Delivery"){
                            <div class="table-wrapper table-responsive-lg mt-lg-4" style="min-width:2000px;max-height:600px">                          
                                <table id="tblDataDelivery" class="table table-bordered table-striped border-white" style="font-size:small;vertical-align:middle">
                                <thead style="background:darkGreen;color:white">
                                    <tr>
                                        <th scope="col"></th>
                                        <th scope="col">No</th>
                                        <th scope="col"></th>
                                        <th scope="col">PID</th>
                                        <th scope="col" class="visiblePrincipal completeView">Principal/Manufacturer</th>
                                        <th scope="col" class="visibleItemDesc completeView">Item Description</th>
                                        <th scope="col" class="visibleInsurance completeView">Insurance</th>
                                        <th scope="col" class="visibleWarranty completeView">Warranty (Month)</th>
                                        <th scope="col" class="visibleSpecRKS completeView">Spec RKS</th>
                                        <th scope="col" class="visibleSurDuk completeView">SurDuk</th>
                                        <th scope="col" class="visibleQty completeView">Qty</th>
                                        <th scope="col" class="visibleCurrency completeView">Currency</th>
                                        <th scope="col" class="visibleUnitCOGS completeView">Unit COGS</th>
                                        <th scope="col" class="visibleUnitRevenue completeView">Unit Revenue	</th>
                                        <th scope="col" class="visibleTotalCOGS completeView">Total COGS</th>
                                        <th scope="col" class="visibleTotalRevenue completeView">Total Revenue</th>
                                        <th scope="col" class="visiblePM completeView">Product Manager</th>
                                        <th scope="col" class="visibleVendor completeView">Vendor</th>
                                        <th scope="col" class="visibleVendorQuot completeView">Vendor Quotation/SOW</th>
                                        <th scope="col" class="">PO Data</th>
                                        <th scope="col" class="visibleGRN completeView">GRN	</th>
                                    </tr>
                                </thead>
                                <tbody id="tabelnewitem">
                                    @if(ViewBag.itemdetail != null)
                                    {
                                        @foreach (var itemdet in ViewBag.itemdetail)
                                        {
                                            <tr>
                                                <td class='tdControl col-1' style='padding-right: 0px; padding-left: 0px; text-align: center; vertical-align: middle;min-width:100px'>
                                                </td>
                                                <td class="tdNo col-1 text-center" style="min-width:55px">
                                                    @itemdet.Idnew
                                                </td>
                                                <td class="tdCheckItem text-center">
                                                </td>
                                                <td class="tdPID">@itemdet.Pidfull</td>
                                                <td class="tdPrincipal visiblePrincipal completeView">
                                                    @itemdet.Principle
                                                </td>
                                                <td class="tdItemDesc col-1 visibleItemDesc completeView" style="min-width: 500px;">
                                                    @itemdet.ItemDesc
                                                </td>
                                                @if (@itemdet.Insurance == true)
                                                {
                                                    <td class="tdInsurance text-center visibleInsurance completeView">
                                                        Y
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td class="tdInsurance text-center visibleInsurance completeView">
                                                        N
                                                    </td>
                                                }
                                                <td class="tdWarranty visibleWarranty completeView">
                                                    @itemdet.Warranty
                                                </td>
                                                <td class="tdSpecRKS text-center visibleSpecRKS completeView">
                                                    @if(ViewBag.fileattach != null)
                                                    {
                                                        @foreach (var file in ViewBag.fileattach)
                                                        {
                                                            if(file.DocumentTypeId == 11 && file.Bastid == itemdet.DetailIdold)
                                                            {
                                                                <a  class='btn-down-spec' style='font-size: 12px; padding: 7px!important;margin-right: 5px;margin-left: 5px;' href='/Preprocs/GetFileAttachment?target=@file.StrictedFileName;@file.FileName'>@file.FileName</a><br />
                                                            }
                                                        }
                                                    }
                                                </td>
                                                @if (@itemdet.SurDukCheck == true)
                                                {
                                                    <td class="tdSurDuk text-center visibleSurDuk completeView">
                                                        @if(ViewBag.fileattach != null)
                                                    {
                                                        @foreach (var file in ViewBag.fileattach)
                                                        {
                                                            if(file.DocumentTypeId == 12 && file.Bastid == itemdet.DetailIdold)
                                                            {
                                                                    <a class='btn-down-spec' style='font-size: 12px; padding: 7px!important;margin-right: 5px;margin-left: 5px;' href='/Preprocs/GetFileAttachment?target=@file.StrictedFileName;@file.FileName'>@file.FileName</a>

                                                                    <br />
                                                            }
                                                        }
                                                    }
                                                    </td>
                                                }
                                                else
                                                {
                                                    <td class="tdSurDuk text-center visibleSurDuk completeView">
                                                        N
                                                    </td>
                                                }
                                                <td class="tdQty col-1 visibleQty completeView">
                                                    @itemdet.Qty
                                                </td>
                                                <td scope="col" class="tdCurrency visibleCurrency completeView">@itemdet.Currency</td>
                                                <td scope="col" class="tdUnitCOGS visibleUnitCOGS completeView">@itemdet.UnitCogs</td>
                                                <td scope="col" class="tdUnitRevenue visibleUnitRevenue completeView">@itemdet.UnitPrice</td>
                                                <td scope="col" class="tdTotalCOGS visibleTotalCOGS completeView">@itemdet.TotalCogs</td>
                                                <td scope="col" class="tdTotalRevenue visibleTotalRevenue completeView">@itemdet.TotalPrice</td>
                                                <td scope="col" class="tdPM visiblePM completeView">@itemdet.ProductManager</td>
                                                <td scope="col" class="tdVendor visibleVendor completeView"></td>
                                                    <td scope="col" class="tdVendorQuot visibleVendorQuot completeView text-center"></td>
                                                <td scope="col" class="tdVendor visiblePOData completeView">
                                                    @{
                                                        var countPO = 0;
                                                    }
                                                    @foreach (var datapo in ViewBag.datapo)
                                                    {
                                                        @if (datapo.Idnew == itemdet.Idnew)
                                                            {
                                                                countPO++;
                                                            }
                                                    }
                                                    @if (ViewBag.datapo.Count > 0 && countPO > 0)
                                                    {
                                                    <div class="table-wrapper table-responsive-lg" style="width:1100px;min-height:50px">
                                                                <table class="table tblPO table-borderless" style="font-size:small;vertical-align:middle">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" style="background:transparent;color:black"><b>Exp PO Issued Dt</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>ETD</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>PO Number</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>PO Item</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>NKS</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>PO Date</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>PO Qty</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>ETA</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>Vendor</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>GR Date</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>GR Qty</b></th>
                                                                    <th scope="col" style="background:transparent;color:black"><b>GR Backlog</b></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @foreach (var datapo in ViewBag.datapo)
                                                                {
                                                                    @if (datapo.Idnew == itemdet.Idnew)
                                                                        {
                                                                        <tr>
                                                                            @if(datapo.ExpectedPoissuedDate != null){
                                                                                <td class="tdPID text-center" style="background:transparent;width:85px">
                                                                                    @datapo.ExpectedPoissuedDate.ToString("dd MMM yy")
                                                                                </td>
                                                                            }
                                                                            else{
                                                                                <td class="tdPID text-center" style="background:transparent;width:90px">@datapo.ExpectedPoissuedDate</td>
                                                                            }
                                                                            @if(datapo.Etd != null){
                                                                                <td class="tdQty text-center" style="background:transparent;width:90px">
                                                                                    @datapo.Etd.ToString("dd MMM yy")
                                                                                </td>
                                                                            }
                                                                            else{
                                                                                <td class="tdQty text-center" style="background:transparent;width:90px">
                                                                                    @datapo.Etd
                                                                                </td>
                                                                            }
                                                                            <td scope="col" class="tdCurrency text-center" style="background:transparent;width:90px"><a class='text-danger btn-remove-po'><b><i class='bi bi-x-lg'></i></b></a> @datapo.Poid</td>
                                                                            <td scope="col" class="tdUnitCOGS" style="background:transparent;;width:300px">@datapo.ItemDescription</td>
                                                                            <td scope="col" class="tdUnitRevenue" style="background:transparent;width:90px">@datapo.ItemNo</td>
                                                                            <td scope="col" class="tdTotalCOGS text-center" style="background:transparent;width:90px">@datapo.Podate.ToString("dd MMM yy")</td>
                                                                                <td scope="col" class="tdTotalRevenue text-center" style="background:transparent;width:65px">@datapo.Poqty                                                      @if(@datapo.Poqty > 0){
                                                                                        @datapo.Uom
                                                                                    }
                                                                                </td>
                                                                                @if(datapo.Eta != null){
                                                                                    <td class="tdQty text-center" style="background:transparent;width:90px">
                                                                                        @datapo.Eta.ToString("dd MMM yy")
                                                                                    </td>
                                                                                }
                                                                                else{
                                                                                   <td scope="col" class="tdPM text-center" style="background:transparent;width:90px">@datapo.Eta</td>
                                                                                }
                                                                            
                                                                            <td scope="col" class="tdVendor" style="background:transparent">@datapo.VendorName</td>
                                                                            <td scope="col" class="tdGRDate text-center" style="background:transparent;width:90px">
                                                                                @if(datapo.Grdate != null){
                                                                                    @datapo.Grdate.ToString("dd MMM yy")

                                                                                }
                                                                                else{
                                                                                   @datapo.Grdate
                                                                                }
                                                                            </td>
                                                                            <td scope="col" class="tdGRQty text-center" style="background:transparent;width:65px">@datapo.Grqty</td>
                                                                            <td scope="col" class="tdGRBacklog" style="background:transparent">@datapo.Grbacklog</td>
                                                                        </tr>       
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    }
                                                </td>
                                                <td scope="col" class="tdVendorQuot visibleGRN completeView text-center">
                                                    @if(ViewBag.fileattach != null)
                                                    {
                                                        @foreach (var file in ViewBag.fileattach)
                                                        {
                                                            if(file.DocumentTypeId == 19 && file.Bastid == itemdet.DetailId)
                                                            {
                                                                <a  class='btn-down-spec' style='font-size: 12px; padding: 7px!important;' href='/Preprocs/GetFileAttachment?target=@file.StrictedFileName;@file.FileName'>@file.FileName</a><br /><br />
                                                            }
                                                        }
                                                    }

                                                </td>
                                            </tr>
                                            <tr class="trRemark">
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td><label class="col-form-label control-label text-red" style="min-width:120px"> Remarks on Item:</label></td>
                                                <td class="tdRemark text-red">@itemdet.RemarkOnItem</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        }
                        <div class="row mt-lg-5">
                            <div class="col-1">
                                <label class="col-form-label control-label"> <b>Currency</b></label>
                            </div>
                            <div class="col-1">
                                <label class="col-form-label control-label"><b>Total COGS</b></label>
                            </div>
                            <div class="col-1">
                                <label class="col-form-label control-label"><b>Total Revenue</b></label>
                            </div>
                        </div>
                        <div class="row mt-lg-2">
                            <div class="col-1">
                                <label class="col-form-label control-label">IDR</label>
                            </div>
                            <div class="col-1 text-end">
                                <label class="col-form-label control-label">@ViewBag.totalcogsidr</label>
                            </div>
                            <div class="col-1 text-end">
                                <label class="col-form-label control-label">@ViewBag.totpriceidr</label>
                            </div>
                        </div>
                        <div class="row mt-lg-2">
                            <div class="col-1">
                                <label class="col-form-label control-label">USD</label>
                            </div>
                            <div class="col-1 text-end">
                                <label class="col-form-label control-label">@ViewBag.totalcogsusd</label>
                            </div>
                            <div class="col-1 text-end">
                                <label class="col-form-label control-label">@ViewBag.totpriceusd</label>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="pills-attachment" role="tabpanel" aria-labelledby="attachment-tab">
                        <hr />
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-6" id="divAttachRFP">
                                    <label class="col-form-label control-label">1. RFP / RKS</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">4. BoQ</label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row mt-lg-2">
                                <div class="col-6">
                                    @if (FileNameRFP != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalRFP">@FileNameRFP</a>
                                    }
                                </div>
                                <div class="col-6">
                                    @if (FileNameBOQ != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalBOQ">@FileNameBOQ</a>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-6 divAttachQuotCustomer">
                                    <label class="col-form-label control-label">2. Quotation to Customer</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">5. GP Projection</label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row mt-lg-2">
                                <div class="col-6">
                                    @if (FileNameQuot != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalQuot">@FileNameQuot</a>
                                        
                                    }
                                </div>
                                <div class="col-6">
                                    @if (FileNameGP != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalGP">@FileNameGP</a>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-6 divAttachProposal">
                                    <label class="col-form-label control-label">3. Proposal</label>
                                    <span class="text-danger"></span>
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label control-label">6. Others</label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row mt-lg-2">
                                <div class="col-6">
                                    @if (FileNamePropo != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalPropo">@FileNamePropo</a>
                                    }
                                </div>
                                <div class="col-6">
                                    @if (FileNameOthers != null)
                                    {
                                        <a class="btn-outline-primary" data-bs-toggle="modal" role="button" data-bs-target="#attachmentModalOthers">@FileNameOthers</a>
                                    }
                                </div>
                            </div>
                        </div>
                        @* </form> *@
                    </div>
                    <div class="tab-pane fade " id="pills-approval" role="tabpanel" aria-labelledby="approval-tab">
                        <hr />
                        <div class="row mt-lg-4">
                            <b>
                                Approval/Review Items
                            </b>
                        </div>
                        <div class="table-wrapper table-responsive-lg mt-lg-4">
                            <table class="table table-striped" style="font-size:small">
                                <thead style="background:darkGreen;color:white">
                                    <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Role</th>
                                        <th scope="col">Submit Date</th>
                                        <th scope="col">Status</th>
                                        <th scope="col">Remark</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (@ViewBag.approvalhist != null)
                                    {
                                        @foreach (var item in @ViewBag.approvalhist)
                                        {
                                            <tr>
                                                <td scope="col" style="width: 250px;">@item.ApproverName</td>
                                                <td scope="col" class="text-center" style="width: 200px;">@item.ApproverRole</td>
                                                <td scope="col" class="text-center" style="width: 150px;">@item.ApprovalDate</td>
                                                <td scope="col" style="width: 150px;" class="text-center">@item.Status</td>
                                                <td scope="col">@item.Remark</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>

                        <div class="row mt-lg-4">
                            <b>
                                Approval/Review Risk
                            </b>
                        </div>
                        <div class="table-wrapper table-responsive-lg mt-lg-4">
                            <table class="table table-striped" style="font-size:small">
                                <thead style="background:darkGreen;color:white">
                                    <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Role</th>
                                        <th scope="col">Submit Date</th>
                                        <th scope="col">Status</th>
                                        <th scope="col">Remark</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (@ViewBag.approvalhistrisk != null)
                                    {
                                        @foreach (var item in @ViewBag.approvalhistrisk)
                                        {
                                            <tr>
                                                <td scope="col" style="width: 250px;">@item.ApproverName</td>
                                                <td scope="col" class="text-center" style="width: 200px;">@item.ApproverRole</td>
                                                <td scope="col" class="text-center" style="width: 150px;">@item.ApprovalDate</td>
                                                <td scope="col" style="width: 150px;" class="text-center">@item.Status</td>
                                                <td scope="col">@item.Remark</td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>

                        @* <div class="row mt-lg-4">
                            <b>
                                Remark & Clarification
                            </b>
                        </div>
                        <div class="row mt-lg-4">
                            <span>User Responses :</span>
                        </div> *@

                    </div>
                    <div class="tab-pane fade" id="pills-pmo" role="tabpanel" aria-labelledby="pmo-tab">
                        <hr />
                        <b>PMO Request Checklist</b>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-9">
                                    <span class="badge rounded-pill bg-success text-center" style="width: 100%;font-size: medium;">Information to Provide</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedCustomerPic == true && @ViewBag.pmocheck != null)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                    style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkCustPIC" checked disabled>
                                            } 
                                            else{
                                                <input type="checkbox" class="form-check-input checkbox"
                                                    style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkCustPIC" disabled>
                                            }
                                        }
                                        else{
                                            <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkCustPIC" disabled>
                                        }
                                        
                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Customer PIC <b class="text-red" > * </b></label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if(@ViewBag.pmocheck != null){
                                            <label class="col-form-label control-label" style="width:90%">
                                                @ViewBag.pmocheck.CustomerPic
                                            </label>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedHighLevelSow == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkHighLvlSOW" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkHighLvlSOW" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkHighLvlSOW" disabled>
                                        }
                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">High Level SOW <b class="text-red" > * </b></label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if(@ViewBag.pmocheck != null){
                                            <label class="col-form-label control-label" style="width:90%">
                                                @ViewBag.pmocheck.HighLevelSow
                                            </label>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedProjectSite == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectSite" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectSite" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectSite" disabled>
                                        }
                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Project Site <b class="text-red" > * </b></label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if(@ViewBag.pmocheck != null){
                                            <label class="col-form-label control-label " style="width:90%">
                                                @ViewBag.pmocheck.ProjectSite
                                            </label>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedProjectValue == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectValue" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectValue" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProjectValue" >
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Project Value <b class="text-red" > * </b></label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if (@Model.ProjectValueIdr.HasValue)
                                        {
                                            <label class="col-form-label control-label" style="width:90%">
                                                @Model.ProjectValueIdr.Value.ToString("#,###")
                                            </label>
                                        }
                                        else if (@Model.ProjectValueUsd.HasValue)
                                        {
                                            <label class="col-form-label control-label" style="width:90%">
                                                @Model.ProjectValueUsd.Value.ToString("#,###")
                                            </label>
                                        }
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedEstimatedStartEndDate == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstStartDate" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstStartDate" disabled>
                                            }
                                        }
                                        else
                                        {
                                        <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstStartDate" disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Estimated Start Date <b class="text-red" > * </b></label>
                                    </div>
                                </div>
                                @if (@ViewBag.pmocheck != null)
                                {
                                    @if (@ViewBag.pmocheck.EstimatedStartDate != null)
                                    {
                                        <div class="col-3">
                                            <div class="row">
                                                <label class="col-form-label control-label col-1">
                                                    :
                                                </label>
                                                <label class="col-form-label control-label" style="width:150px;margin-left: 27px;">
                                                    @ViewBag.pmocheck.EstimatedStartDate.ToString("dd-MMM-yy")
                                                </label>
                                            </div>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="col-3">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                        </div>
                                    </div>
                                }

                                <div class="col-1">
                                    <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">End Date <b class="text-red" > * </b></label>
                                </div>
                                @if (@ViewBag.pmocheck != null)
                                {
                                    @if (@ViewBag.pmocheck.EndDate != null)
                                    {
                                        <div class="col-3">
                                            <div class="row">
                                                <label class="col-form-label control-label col-1">
                                                    :
                                                </label>
                                                <label class="col-form-label control-label" style="width: 176px;">
                                                    @ViewBag.pmocheck.EndDate.ToString("dd-MMM-yy")
                                                </label>
                                            </div>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="col-3">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedEstimatedKickOff == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstKickOff" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstKickOff" disabled>
                                            }
                                        }
                                        else
                                        {
                                        <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkEstKickOff" disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Estimated Kick Off</label>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if(@ViewBag.pmocheck != null){
                                            <label class="col-form-label control-label" style="width:265px;margin-left: 27px;">
                                                @ViewBag.pmocheck.EstimatedKickOffNote
                                            </label>
                                        }
                                    </div>
                                </div>
                                <div class="col-1">
                                    <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Date</label>
                                </div>
                                @if (@ViewBag.pmocheck != null)
                                {
                                    @if (@ViewBag.pmocheck.EstimatedKickOffDate != null)
                                    {
                                        <div class="col-3">
                                            <div class="row">
                                                <label class="col-form-label control-label col-1">
                                                    :
                                                </label>
                                                <label class="col-form-label control-label" style="width: 176px;">
                                                    @ViewBag.pmocheck.EstimatedKickOffDate
                                                </label>
                                            </div>
                                        </div>
                                    }
                                    else{
                                        <div class="col-3">
                                            <div class="row">
                                                <label class="col-form-label control-label col-1">
                                                    :
                                                </label>
                                            </div>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="col-3">
                                        <div class="row">
                                            <label class="col-form-label control-label col-1">
                                                :
                                            </label>
                                        </div>
                                    </div>
                                }

                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedProductTeamPic == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProductTeamPIC" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProductTeamPIC" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkProductTeamPIC" disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Product Team PIC</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1">
                                            :
                                        </label>
                                        @if(@ViewBag.pmocheck != null){
                                            <label class="col-form-label control-label " style="width:90%">
                                                @ViewBag.pmocheck.ProductTeamPic
                                            </label>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-9">
                                    <span class="badge rounded-pill bg-success text-center" style="width: 100%;font-size: medium;">Document to Attach</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedSpkorPoorContract == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachSPK" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachSPK" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachSPK" disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">SPK / PO / Contract	</label>
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachSPK.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameSPK, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachSPK[0].StrictedFileName + ";" + FileNameSPK }, new { target = "_blank", @class="btn-outline-primary" })
                                            }

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedRfporRksorTor == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachRFP" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachRFP" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachRFP" disabled>
                                        }
                                        @if (@Model.Stage == "Delivery")
                                        {
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">RFP / RKS / TOR </label>
                                        }
                                        else if(@Model.Stage == "Presales"){
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">RFP / RKS / TOR <b class="text-red" > * </b></label>
                                        }
                                        
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachRFP.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameRFP, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachRFP[0].StrictedFileName + ";" + FileNameRFP }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedQuotation == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachQuot" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachQuot" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachQuot" disabled>
                                        }
                                        @if (@Model.Stage == "Delivery")
                                        {
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Quotation <b class="text-red" > ** </b></label>
                                        }
                                        else if(@Model.Stage == "Presales"){
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Quotation</label>
                                        }
                                        
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachQuot.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachQuot[0].StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedProposal == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachProposal" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachProposal" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachProposal" disabled>
                                        }
                                        @if (@Model.Stage == "Delivery")
                                        {
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Proposal <b class="text-red" > ** </b></label>
                                        }
                                        else if(@Model.Stage == "Presales"){
                                            <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Proposal</label>
                                        }
                                        
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachPropo.Count > 0)
                                            {
                                                @Html.ActionLink(FileNamePropo, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachPropo[0].StrictedFileName + ";" + FileNamePropo }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedBoQ == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachBOQ" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachBOQ" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachBOQ" disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">BoQ (Bill of Quantity)</label>
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachBOQ.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameBOQ, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachBOQ[0].StrictedFileName + ";" + FileNameBOQ }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedNegotiationMoM == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachNego" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachNego" disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachNego" disabled>
                                        }
                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Negotiation MoM</label>
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachNego.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameNego, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachNego[0].StrictedFileName + ";" + FileNameNego }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        @if (@ViewBag.pmocheck != null)
                                        {
                                            @if (@ViewBag.pmocheck.CheckedOtherAttachment == true)
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachOther" checked disabled>
                                            }
                                            else
                                            {
                                                <input type="checkbox" class="form-check-input checkbox"
                                                style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachOther"disabled>
                                            }
                                        }
                                        else
                                        {
                                            <input type="checkbox" class="form-check-input checkbox"
                                            style="border: 1px solid;vertical-align:-webkit-baseline-middle" id="checkAttachOther"disabled>
                                        }

                                        <label class="custom-control-label" for="customCheck1" style="vertical-align:-webkit-baseline-middle">Other</label>
                                    </div>
                                </div>
                                <div class="col-7">
                                    <div class="row">
                                        <label class="col-form-label control-label col-1" style="width: 42px;">
                                            :
                                        </label>
                                        <div class="col">
                                            @if (@ViewBag.attachOthers.Count > 0)
                                            {
                                                @Html.ActionLink(FileNameOthers, "GetFileAttachment", new { controller = "PreProcs",
                                            target =  @ViewBag.attachOthers[0].StrictedFileName + ";" + FileNameOthers }, new { target = "_blank", @class="btn-outline-primary" })
                                            }
                                    
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-9">
                                    <span class="badge rounded-pill bg-success text-center" style="width: 100%;font-size: medium;">Specific Term & Condition</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-1">
                                <div class="col-8 text-center">
                                    <label class="custom-control-label text-red" for="customCheck1" style="vertical-align:-webkit-baseline-middle;font-style: italic;font-size:smaller">Please specify any other specific terms & condition that PM or project team should be aware of, such as:
    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row mt-lg-3">
                                <div class="col-8">
                                    <textarea class="form-control" id="txtSpecTerm" style="width: 97%;height:200px;margin-left: 23px;font-weight: bold" disabled>1. Specific customer request or requirement
2. Customer office hour, code of conduct
3. NDA requirement
4. Customer site condition (ready, on renovation, building in progress, etc)
5. Delivery Terms (i.e. asset# required, within office hour, ETD, etc)
6. BAST Terms (i.e. customer format & numbering required)
7. Invoice Terms (i.e. invoice must be not later than one month after BAST or not later than any particular date)
8. Penalty terms
9. Customer Master Asset requirement
10. etc.</textarea>
                                </div>
                            </div>
                        </div>
                        @if (Model.Stage == "Delivery")
                        {
                            <div class="form-group">
                                <div class="row mt-lg-3">
                                    <div class="col-2">
                                        <label class="col-form-label control-label" style="margin-left: 23px;">
                                            PM HR Cost <b class="text-red" id="mandaPMHRCost" style="visibility:hidden">*</b>
                                        </label>
                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                Mandays :
                                            </label>
                                            @if (ViewBag.pmocheck != null)
                                            {
                                                <label class="col-form-label control-label" style="width: 65%;">
                                                    @ViewBag.pmocheck.Pmmandays
                                                </label>
                                            }
                                        </div>
                                    
                                    </div>
                                    <div class="col-3">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                Value :
                                            </label>
                                            @if (ViewBag.pmocheck != null)
                                            {
                                                <label class="col-form-label control-label" style="width: 75%;">
                                                    @ViewBag.pmocheck.Pmvalue
                                                </label>
                                            }
                                        </div>
                                    
                                    </div>
                                </div>
                                <div class="row mt-lg-4">
                                    <div class="col-2">
                                    
                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                CV PM <span class="tab">:</span>
                                            </label>
                                            <label class="col-form-label control-label" style="width: 250px">
                                                @Model.Pm
                                            </label>
                                        </div>
                                    
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row mt-lg-3">
                                    <div class="col-2">
                                        <label class="col-form-label control-label" style="margin-left: 23px;">
                                            PC HR Cost <b class="text-red" id="mandaPCHRCost" style="visibility:hidden">*</b>
                                        </label>
                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                Mandays :
                                            </label>
                                            @if (ViewBag.pmocheck != null)
                                            {
                                                <label class="col-form-label control-label" style="width: 65%;">
                                                    @ViewBag.pmocheck.Pcmandays
                                                </label>
                                            }
                                        </div>
                                    
                                    </div>
                                    <div class="col-3">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                Value :
                                            </label>
                                            @if (ViewBag.pmocheck != null)
                                            {
                                                <label class="col-form-label control-label" style="width: 75%;">
                                                    @ViewBag.pmocheck.Pcvalue
                                                </label>
                                            }
                                        </div>
                                    
                                    </div>
                                </div>
                                <div class="row mt-lg-4">
                                    <div class="col-2">
                                    
                                    </div>
                                    <div class="col-4">
                                        <div class="row">
                                            <label class="col-form-label control-label col-3">
                                                CV PC <span class="tab">:</span>
                                            </label>
                                             <label class="col-form-label control-label" style="width: 250px">
                                                @Model.Pc
                                            </label>
                                        </div>
                                    
                                    </div>
                                </div>
                            </div>
                        }    
                    </div>
                    <div class="tab-pane fade " id="pills-report" role="tabpanel" aria-labelledby="report-tab">
                        <hr />
                        @* <p> *@
                        <b>Reports</b>
                        <div class="row mt-lg-1">
                            <a asp-controller="PreProcs" asp-action="ShowRDL" asp-route-type="View PreProc Details" asp-route-id="@Model.ListItemId" target="_blank">View PreProc Details Item.rdl</a>
                            <a asp-controller="PreProcs" asp-action="ShowRDL" asp-route-type="Tracking Delivery Sheet" asp-route-id="@Model.ListItemId" target="_blank">Tracking Delivery Sheet.rdl</a>
                            <a asp-controller="PreProcs" asp-action="ShowRDL" asp-route-type="" asp-route-id="@Model.ListItemId" target="_blank">PO Data by PID.rdl</a>
                        </div>
                        <br>
                        <b>Reminder</b>
                        <div class="form-group">
                            <div class="row mt-lg-2">
                                <div class="col-2">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="form-check-input checkbox"
                                               style="border: 1px solid;" disabled>
                                        <label class="custom-control-label" for="customCheck1">Is Penalty Applied</label>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <label class="custom-control-label">| Penalty Due Date (if any) :</label>
                                </div>
                                <div class="col-2">
                                    <input class="form-control" style="width:250px" type="date" value="" disabled/>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-lg-2">
                            <div class="col-2">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="form-check-input checkbox" style="border: 1px solid;" checked disabled>
                                    <label class="custom-control-label" for="customCheck1">
                                        Active Status
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-lg-2">
                            <div class="col-2">
                                <label class="col-form-label control-label">Need Escalation To AM</label>
                                <span class="text-danger"></span>
                            </div>
                            <div class="col-3">
                                <div class="row">
                                    <label class="col-form-label control-label">
                                        : 
                                        @if (ViewBag.escalatetoam != null){
                                        <input name="NeedEsc" checked type="checkbox" class="form-check-input checkbox"
                                               style="border: 1px solid;" disabled id="CheckEsc">
                                            
                                        }
                                        else{
                                            <input name="NeedEsc" value="true" type="checkbox" class="form-check-input checkbox"
                                                    style="border: 1px solid;" disabled id="CheckEsc">
                                        }
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-lg-2">
                            <div class="col-2">
                                <label class="col-form-label control-label">Pending Billing Reason</label>
                                <span class="text-danger"></span>
                            </div>
                            <div class="col-3">
                                <div class="row">
                                    <label class="col-form-label control-label col-1">
                                        :
                                    </label>
                                    @if (ViewBag.escalatetoam != null)
                                    {
                                        <label class="col-form-label control-label">
                                            @ViewBag.escalatetoam.EscalationReason
                                        </label>
                                    }    
                                </div>
                            </div>
                            <div class="col-3">
                                @if (ViewBag.billreason != null)
                                {
                                    @if (@ViewBag.escalatetoam.EscalationReason == "Others")
                                    {
                                        <input id="inputOtherBillReason" class="form-control" disabled style="width:350px;display:none" name="txtOtherReason" type="text"   value="@ViewBag.billreason.OtherReason" />
                                    }
                                } 
                                    
                            </div>
                        </div>


                        @* </p> *@

                    </div>
                </div><!-- End Pills Tabs -->

        </div>
    </div>
</div>

@* MODAL *@
<div class="modal fade" id="BrowsePO" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <div class="table-wrapper table-responsive-lg mt-lg-3" style="min-height:350px">
                                    <table class="table table-striped" style="font-size:small;vertical-align:middle">
                                        <thead style="background:darkGreen;color:white">
                                            <tr>
                                                <th scope="col"></th>
                                                <th scope="col">PID</th>
                                                <th scope="col">PO Number</th>
                                                <th scope="col">Item Description</th>
                                                <th scope="col">PO Date</th>
                                            </tr>
                                        </thead>
                                        <tbody id="bodyBrowsePO">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a class="btn btn-outline-danger" data-bs-dismiss="modal">
                    Cancel
                </a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalRFP" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @* @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                target =  @ViewBag.attachQuot.StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" }) *@
                                @if (FileNameRFP != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachRFP[0].StrictedFileName;@FileNameRFP">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countrfp = @ViewBag.attachRFP.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerRFP' runat='server' name='downVerRFP'>
                                        @foreach (var item in @ViewBag.attachRFP)
                                        {
                                            <option value='@item.StrictedFileName'> @countrfp</option>
                                            countrfp--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    @* <a class="btn btn-outline-secondary" id="btn-down-ver-rfp" style="width: 200px">
                                    Download Version
                                    </a>  *@
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalBOQ" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @if (FileNameBOQ != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachBOQ[0].StrictedFileName;@FileNameBOQ">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countboq = @ViewBag.attachBOQ.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerRFP' runat='server' name='downVerBOQ'>
                                        @foreach (var item in @ViewBag.attachBOQ)
                                        {
                                            <option value='@item.StrictedFileName'> @countboq</option>
                                            countboq--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    @* <a class="btn btn-outline-secondary" id="btn-down-ver-rfp" style="width: 200px">
                                    Download Version
                                    </a>  *@
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalQuot" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @* @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                target =  @ViewBag.attachQuot.StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" }) *@
                                @if (FileNameQuot != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachQuot[0].StrictedFileName;@FileNameQuot">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countquot = @ViewBag.attachQuot.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerQuot' runat='server' name='downVerQuot'>
                                        @foreach (var item in @ViewBag.attachQuot)
                                        {
                                            <option value='@item.StrictedFileName'> @countquot</option>
                                            countquot--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalGP" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @* @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                target =  @ViewBag.attachQuot.StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" }) *@
                                @if (FileNameGP != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachGP[0].StrictedFileName;@FileNameGP">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countgp = @ViewBag.attachGP.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerGP' runat='server' name='downVerGP'>
                                        @foreach (var item in @ViewBag.attachGP)
                                        {
                                            <option value='@item.StrictedFileName'> @countgp</option>
                                            countgp--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    @* <a class="btn btn-outline-secondary" id="btn-down-ver-rfp" style="width: 200px">
                                    Download Version
                                    </a>  *@
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalPropo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @* @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                target =  @ViewBag.attachQuot.StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" }) *@
                                @if (FileNamePropo != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachPropo[0].StrictedFileName;@FileNamePropo">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countpropo = @ViewBag.attachPropo.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerPropo' runat='server' name='downVerPropo'>
                                        @foreach (var item in @ViewBag.attachPropo)
                                        {
                                            <option value='@item.StrictedFileName'> @countpropo</option>
                                            countpropo--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    @* <a class="btn btn-outline-secondary" id="btn-down-ver-rfp" style="width: 200px">
                                    Download Version
                                    </a>  *@
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="attachmentModalOthers" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="container">
                @* <form asp-action="SelectPIC"> *@
                <div class="modal-body">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col">
                                <label class="col-form-label control-label" id="labelToPurchaseReq">
                                    To download latest version of this document, click on the button below
                                </label>
                                <span class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                @* @Html.ActionLink(FileNameQuot, "GetFileAttachment", new { controller = "PreProcs",
                                target =  @ViewBag.attachQuot.StrictedFileName + ";" + FileNameQuot }, new { target = "_blank", @class="btn-outline-primary" }) *@
                                @if (FileNameOthers != null)
                                {
                                    <a class="btn btn-outline-secondary" asp-controller="PreProcs" asp-action="GetFileAttachment" asp-route-target="@ViewBag.attachOthers[0].StrictedFileName;@FileNameOthers">
                                        Download
                                    </a>
                                }

                            </div>
                        </div>
                        <form asp-action="GetFileAttachment" asp-controller="PreProcs" method="get">
                            <div class="row">
                                <div class="col">
                                    <label class="col-form-label control-label" id="labelToPurchaseReq">
                                        To download specified version. Choose the version you want <i class="bi bi-caret-down-square"></i> and click on Download Version below
                                    </label>
                                    <span class="text-danger"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-1">
                                    @{
                                        var countothers = @ViewBag.attachOthers.Count;
                                    }
                                    <select class='form-select form-control' style='width: 63px' id='downVerOthers' runat='server' name='downVerOthers'>
                                        @foreach (var item in @ViewBag.attachOthers)
                                        {
                                            <option value='@item.StrictedFileName'> @countothers</option>
                                            countothers--;
                                        }
                                    </select>
                                </div>
                                <div class="col-4">
                                    @* <a class="btn btn-outline-secondary" id="btn-down-ver-rfp" style="width: 200px">
                                    Download Version
                                    </a>  *@
                                    <button type="submit" class="btn btn-outline-secondary" style="width: 200px">Download Version</button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                </div>
                @* </form> *@
            </div>
        </div>
    </div>
</div>

<script>
    var selDiv = "";

    var notFoundCount = -3;

    $("#search").on("keyup", function() {
      var value = $(this).val().toLowerCase(),
         $tr =  $("#tableCommittee tbody tr");
      $tr.each(function(){
        var found = 0;
        $(this).find("td").each(function(){
           found += $(this).html().toLowerCase().indexOf(value)
        });
        if (found > notFoundCount){
            $(this).closest('tr').show();
        }else{
            $(this).closest('tr').hide();
        }
      });
    });

     
    var i = 0;

    $('#checkAllItem').on('click', function () { // registering function for delete button
        if(this.checked == true){
            $('input:checkbox.singleCheckItem').prop("checked", true);
        }
        else{
            $('input:checkbox.singleCheckItem').prop("checked", false);
        }
    });
    
    function showPMOChecklist(){
        alert("Tab PMO CheckList has been Added");
        $("li#pmo-tab").css('display', 'block');
        $("#btn-pmo-review").hide();
    }

    $('#btn-browse-po').on('click', function () {
        var procid = new FormData();
        var tempprocid = document.querySelector("#preprocid").getAttribute("value");

        $("#bodyBrowsePO").html("");
        procid.append("procid", tempprocid);

        $.ajax({
            url: "/PreProcs/GetItemPreProcPOforBrowse/",
            type: "POST",
            dataType: "json",
            data: procid,
            contentType: false,
            processData: false,
            success: function (data) {
                if (data.length > 0) {
                    for (var i = 0; i < data.length; i++) {
                        var pid = data[i].polineId.split("-");
                        $("#bodyBrowsePO").append("<tr><td class=''><input class='form-check-input' type='radio' name='radioBrowsePO'></td><td>" + pid[0] + "</td><td class='text-center' style='width:95px'>" + data[i].poid + "</td><td style='min-width:315px'>" + data[i].itemDescription + "</td><td class='text-center' style='width:80px'>" + convertDateFormat(data[i].podate, "dd MMM yy") + "</td></tr>");
                    }
                }
            },
            error: function (data) {
                console.log("error" + data[0]);
            }
        });
    })

    function GetItemPreProcPO(no, type){
        var procid = new FormData();
        var tempprocid = document.querySelector("#preprocid").getAttribute("value");
        procid.append("procid", tempprocid);
        procid.append("idnew", no);

        $("button#submit-update-po").css("display", "none");
        $("div.visGroup1").css("display", "none");
        $("div.visGroup2").css("display", "none");
        $("div.visbileInputType").css("display", "none");
        $("button#btn-select-item").css("display", "block");

        $.ajax({
            url: "/PreProcs/GetItemPreProcPO/",
            type: "POST",
            dataType: "json",
            data: procid,
            contentType: false,
            processData: false,
            success: function (data) {
                $("#bodyDetailPO"+ no).html("");
                if (data.length > 0) {
                    for (var i = 0; i < data.length; i++) {
                        var expectedPoissuedDate = data[i].expectedPoissuedDate != null ? convertDateFormat(data[i].expectedPoissuedDate, "dd MMM yy") : "";
                        var etd = data[i].etd != null ? convertDateFormat(data[i].etd, "dd MMM yy") : "";
                        var podate = data[i].podate != null ? convertDateFormat(data[i].podate, "dd MMM yy") : "";
                        var eta = data[i].eta != null ? convertDateFormat(data[i].eta, "dd MMM yy") : "";
                        var grdate = data[i].grdate != null ? convertDateFormat(data[i].grdate, "dd MMM yy") : "";
                        var poqty = data[i].poqty != null ? data[i].poqty : "";
                        var grqty = data[i].grqty != null ? data[i].grqty : "";
                        var uom = data[i].uom != null ? data[i].uom : "";
                        uom = poqty != "" ? uom : "";
                        var vendorName = data[i].vendorName != null ? data[i].vendorName : "";
                        var grbacklog = data[i].grbacklog != null ? data[i].grbacklog : "";

                        $("#bodyDetailPO" + no).last().append("<tr><td class='tdPID text-center' style='background:transparent;width:90px'>" + expectedPoissuedDate + "</td><td class='tdQty text-center' style='background:transparent;width:90px'>" + etd + "</td><td scope='col' class='tdCurrency text-center' style='background:transparent;width:80px'><div class='custom-control custom-checkbox'><input type='checkbox' class='form-check-input checkbox checkPONo'style='border: 1px solid;font-size:small' name='checkPONo' id='checkPONo' value='" + data[i].polineId + ";" + data[i].idnew + "'><label class='custom-control-label' for='customCheck1'>&nbsp" + data[i].poid + "</label></div></td><td scope='col' class='tdUnitCOGS' style='background:transparent;;width:300px'>" + data[i].itemDescription + "</td><td scope='col' class='tdUnitRevenue' style='background:transparent;width:90px'>" + data[i].itemNo + "</td><td scope='col' class='tdTotalCOGS text-center' style='background:transparent;width:90px'>" + podate + "</td><td scope='col' class='tdTotalRevenue text-center' style='background:transparent;width:65px'>" + poqty + " " + uom + "</td><td scope='col' class='tdPM text-center' style='background:transparent;width:90px'>" + eta + "</td><td scope='col' class='tdVendor' style='background:transparent'>" + vendorName + "</td><td scope='col' class='tdGRDate text-center' style='background:transparent;width:90px'>" + grdate + "</td><td scope='col' class='tdGRQty' style='background:transparent;width:65px'>" + grqty + "</td><td scope='col' class='tdGRBackLog' style='background:transparent'>" + grbacklog + "</td><input class='txtCheckIDNew' type='hidden' value'" + data[i].idnew + "'/></tr>")
                    };

                };

                $("#bodyDetailGR"+ no).html("");
                if (data.length > 0) {
                    for (var i = 0; i < data.length; i++) {
                        var expectedPoissuedDate = data[i].expectedPoissuedDate != null ? convertDateFormat(data[i].expectedPoissuedDate, "dd MMM yy") : "";
                        var etd = data[i].etd != null ? convertDateFormat(data[i].etd, "dd MMM yy") : "";
                        var podate = data[i].podate != null ? convertDateFormat(data[i].podate, "dd MMM yy") : "";
                        var eta = data[i].eta != null ? convertDateFormat(data[i].eta, "dd MMM yy") : "";
                        var grdate = data[i].grdate != null ? convertDateFormat(data[i].grdate, "dd MMM yy") : "";
                        var poqty = data[i].poqty != null ? data[i].poqty : "";
                        var grqty = data[i].grqty != null ? data[i].grqty : "";
                        var uom = data[i].uom != null ? data[i].uom : "";
                        uom = poqty != "" ? uom : "";
                        var vendorName = data[i].vendorName != null ? data[i].vendorName : "";
                        var grbacklog = data[i].grbacklog != null ? data[i].grbacklog : "";

                        $("#bodyDetailGR" + no).last().append("<tr><td class='tdPID text-center' style='background:transparent;width:90px'>" + expectedPoissuedDate + "</td><td class='tdQty text-center' style='background:transparent;width:90px'>" + etd + "</td><td scope='col' class='tdCurrency text-center' style='background:transparent;width:80px'><div class='custom-control custom-checkbox'><input type='checkbox' class='form-check-input checkbox checkPONo'style='border: 1px solid;font-size:small' name='checkPONo' id='checkPONo' value='" + data[i].polineId + ";" + data[i].idnew + "'><label class='custom-control-label' for='customCheck1'>&nbsp" + data[i].poid + "</label></div></td><td scope='col' class='tdUnitCOGS' style='background:transparent;;width:300px'>" + data[i].itemDescription + "</td><td scope='col' class='tdUnitRevenue' style='background:transparent;width:90px'>" + data[i].itemNo + "</td><td scope='col' class='tdTotalCOGS text-center' style='background:transparent;width:90px'>" + podate + "</td><td scope='col' class='tdTotalRevenue text-center' style='background:transparent;width:65px'>" + poqty + " " + uom + "</td><td scope='col' class='tdPM text-center' style='background:transparent;width:90px'>" + eta + "</td><td scope='col' class='tdVendor' style='background:transparent'>" + vendorName + "</td><td scope='col' class='tdGRDate text-center' style='background:transparent;width:90px'>" + grdate + "</td><td scope='col' class='tdGRQty' style='background:transparent;width:65px'>" + grqty + "</td><td scope='col' class='tdGRBackLog' style='background:transparent'>" + grbacklog + "</td><input class='txtCheckIDNew' type='hidden' value'" + data[i].idnew + "'/></tr>")
                    };

                };
            },
            error: function (data) {
                console.log("error" + data[0]);
            }
        });
    }
    
    function ShowFileAttachment(no, detail, doctype){
        var procid = new FormData();
        var tempprocid = document.querySelector("#preprocid").getAttribute("value");
        procid.append("procid", tempprocid);
        procid.append("detailid", detail);
        procid.append("doctype", doctype);

        $.ajax({
            url: "/PreProcs/ShowFileAttachment/",
            type: "POST",
            dataType: "json",
            data: procid,
            contentType: false,
            processData: false,
            success: function (datas) {
                if (datas.length > 0) {
                    $('td.tdFileGRN').each(function () {
                        var det = $(this).parent().find("input:hidden.detailid").val();
                        console.log(datas[0].bastid)
                        console.log(det)
                        if(datas[0].bastid == det){
                            for (var i = 0; i < datas.length; i++) {
                                $(this).append("<a  class='' style='font-size: 12px; padding: 7px!important;' href='/Preprocs/GetFileAttachment?target=" + datas[i].strictedFileName + ";" + datas[i].fileName + "'>" + datas[i].fileName + "</a> <br><br>");
                            };
                            $(this).append("<a class='btn btn-outline-secondary mt-lg-2 AttachGRN' style='font-size: 12px;display:none;width:75px; padding: 3px!important;' data-bs-toggle='modal' data-bs-target='#uploadGRN'>Attach File</a>");

                            return false;
                        }
                    });

                };
            },
            error: function (datas) {
                console.log("error" + datas[0]);
            }
        });
    }

    function convertDateFormat(dateObject, param) {
            const months = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
            var d = new Date(dateObject);
            var day = d.getDate();
            var month = d.getMonth() + 1;
            var year = d.getFullYear();
            var date = "";

            if (day < 10) {
                day = "0" + day;
            }

            if(param == "yyyy-MM-dd"){
                if (month < 10) {
                    month = "0" + month;
                }
                date = year + "-" + month + "-" + day;
            }
            else if(param == "dd MMM yy"){
                month = months[d.getMonth()];
                date = day + " " + month + " " + year.toString().substring(2, 4);
            }

            return date;
        };

        const optionElements = document.querySelectorAll('option');

        Array.from(optionElements).forEach(element => {
          if (element.textContent.length > 50) {
            element.textContent =
              element.textContent.slice(0, 50) + '...';
          }
        });

        $("#ProjectSupport").attr("disabled", false);
        $("#Pm").attr("disabled", false);
        $("#Pc").attr("disabled", false);

        function changeViewDetails(){
            var val = $("select#selectViewDetails option:selected").val();

            $(".completeView").show();

            if(val == "Simple"){
                $(".completeView").hide();
                $(".visibleItemDesc").show();
                $(".visibleQty").show();
                $(".visiblePM").show();
                $(".visibleVendor").show();
                $(".visibleVendorQuot").show();
                $(".visiblePOData").show();
                $(".visibleUnitCOGS").show();
                $(".visibleUnitRevenue").show();
                $(".visibleTotalCOGS").show();
                $(".visibleTotalRevenue").show();
            }
            else if(val == "PO"){
                $(".completeView").hide();
                $(".visibleItemDesc").show();
                $(".visibleQty").show();
                $(".visiblePOData").show();
                $(".visibleUnitCOGS").show();
                $(".visibleUnitRevenue").show();
                $(".visibleTotalCOGS").show();
                $(".visibleTotalRevenue").show();
            }
        }

</script>